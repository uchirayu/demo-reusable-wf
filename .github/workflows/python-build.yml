name: Python Build

on:
  workflow_call:        # This workflow can only be triggered by another workflow
    inputs:
      python-version:   # Input so caller can choose Python version
        type: string
        default: "3.11" # Default is Python 3.11 if not provided

jobs:
  build:
    runs-on: ubuntu-latest  # Use latest Ubuntu runner
    steps:
      - uses: actions/checkout@v4
        # Checkout the repository code so workflow has access to files

      - uses: actions/setup-python@v5
        with:
          python-version: ${{ inputs.python-version }}
        # Set up the chosen Python version

      - run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt
        # Install project dependencies from requirements.txt

      - run: pytest -q
        # Run all unit tests (quiet mode)
